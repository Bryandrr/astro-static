<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <link rel="shortcut icon" id="dynamic-favicon" href="https://ssl.gstatic.com/classroom/favicon.png" />
    <title id="dynamic-title">Home</title>
    <script src="https://kit.fontawesome.com/1237c86ba0.js" crossorigin="anonymous"></script>
    <style>
         @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@700&display=swap');
      body {
        margin: 0;
        background-color: transparent;
      }

      iframe {
        display: block;
        background: #000;
        border: none;
        height: 100vh;
        width: 100vw;
      }

      .research {
        background-color:transparent;
        top: 20%;
        justify-content:center;
      }

      .form__input {
    background: #351E4F;
    font-family: 'Be Vietnam Pro', sans-serif;
    height: 48px;
    border: 1px solid #68419b;
    color: white;
    border-radius: 3px;
    outline: none;
    width: 300px;
    border-radius: 5px;
    color: #FFF;
}
 form input::placeholder {
      font-family: 'Be Vietnam Pro', sans-serif;
      color: white;
    }
form input:focus {
    border: 1px solid #7D29E8;
    animation: fadeInAnimation ease-in-out 0.3s;
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
}

      .navbtn {
        float: right;
        border-radius: 40px;
        width: 50px;
        height: 50px;
        background-color: purple;
        border: none;
        position: fixed;
        top: 10px;
      }
      .navbtn1 {
        left: 10px;
        color: white;
      }

      .navbtn2 {
        left: 70px;
        color: white;
      }

      .navbtn3 {
        left: 130px;
        color: white;
      }

      .navbtn4 {
        left: 190px;
        color: white;
      }
      .navbtn5 {
        right: 10px;
        color: white;
      }
      .navbtn6 {
        right: 70px;
        color: white;
      }
    </style>
  </head>

  <body>
    <script>
      window.addEventListener('resize', navigator.keyboard.lock(['Escape']))
    </script>
    <div class="researcher" align="center">
      <br>
<form id="uv-form">
            <input id="uv-search-engine" value="https://www.google.com/search?q=%s" type="hidden"/> 
            <input id="uv-address" type="text" placeholder="Be lazy and search here!" class="form__input"/>
          </form>
          <div class="desc left-margin">
            <p id="uv-error"></p>
            <pre id="uv-error-code"></pre>
          </div>
    </div>
    <iframe src="" class="iframe" id="iframeId" style="bottom: 0" style="border: 0px #ffffff none" name="Iframe" scrolling="yes" frameborder="0" marginheight="0px" marginwidth="0px" height="100%" width="100%" allowfullscreen></iframe>

        <button onclick="reload()" class="navbtn navbtn1">
            <i class="fa-solid fa-rotate-right"></i>
          </button>
          <button id="home-page" class="navbtn navbtn2" onclick="reload()">
            <i class="fa-solid fa-house"></i>
          </button>
          <button id="fullscreen-button" onclick="toggleFullscreen()" class="navbtn navbtn3">
            <i class="fa-solid fa-expand"></i>
          </button>
    <button id="inspect" onclick="erudaToggle()" class="navbtn navbtn4">
            <i class="fas fa-code"></i>
          </button>
             <button id="forward" onclick="goForward()" class="navbtn navbtn5">
            <i class="fa-solid fa-chevron-right"></i>
          </button>
         <button id="back" onclick="goBack()" class="navbtn navbtn6">
           <i class="fa-solid fa-chevron-left"></i>
          </button>
    <script>
      function reload() {
        document.getElementById('iframeId').src = document.getElementById('iframeId').src
      }
      // Very epic html editing :)
      function erudaToggle() {
        const proccy = document.getElementById('iframeId')
        if (!proccy) return

        const proccyWindow = proccy.contentWindow
        const proccyDocument = proccy.contentDocument

        if (!proccyWindow || !proccyDocument) return

        if (proccyWindow.eruda?._isInit) {
          proccyWindow.eruda.destroy()
        } else {
          let script = proccyDocument.createElement('script')
          script.src = 'https://cdn.jsdelivr.net/npm/eruda'
          script.onload = function () {
            if (!proccyWindow) return
            proccyWindow.eruda.init()
            proccyWindow.eruda.show()
          }
          proccyDocument.head.appendChild(script)
        }
      }
      const homeButton = document.getElementById('home-page')
      homeButton.addEventListener('click', function () {
        window.location.href = './'
      })
      window.onload = function () {
        let encodedUrl = sessionStorage.getItem('ur')
        encodedUrl = encodedUrl
        console.log(encodedUrl)
        document.querySelector('#iframeid').src = encodedUrl
        let iframe = document.querySelector('#iframeId')
        iframe.src = encodedUrl
      }
    </script>
<script>
function goBack() {
    var iframe = document.getElementById('iframeId');
    if (iframe.contentWindow.history.length > 0) {
        iframe.contentWindow.history.back();
    }
}

function goForward() {
    var iframe = document.getElementById('iframeId');
    if (iframe.contentWindow.history.length > 0) {
        iframe.contentWindow.history.forward();
    }
}
</script>
      <script>
    function toggleFullscreen() {
      let elem = document.querySelector('.iframe');

      if (!document.fullscreenElement) {
        elem.requestFullscreen().catch((err) => {
          alert(`Error attempting to enable fullscreen mode: ${err.message} (${err.name})`);
        });
      } else {
        document.exitFullscreen();
      }
    }
  </script>
       <script src="/static/uv/uv.bundle.js" defer></script>
      <script src="/static/uv/uv.config.js" defer></script>
      <script src="/static/register-sw.js" defer></script>
      <script src="/static/search.js" defer></script>
        <script src="/static/cloak.js" defer></script>
      <script src="/static/index.js" defer></script>
      <script src="/static/error.js" defer></script>
  </body>
</html>
